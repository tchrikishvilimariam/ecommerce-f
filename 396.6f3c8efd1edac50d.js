"use strict";(self.webpackChunkecommerce_f=self.webpackChunkecommerce_f||[]).push([[396],{9396:(v,l,o)=>{o.r(l),o.d(l,{CartModule:()=>s});var a=o(6895),m=o(3128),t=o(8256),p=o(7644);function g(c,r){if(1&c){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"td")(12,"button",6),t.NdJ("click",function(){const _=t.CHM(e).$implicit,f=t.oxw(2);return t.KtG(f.removeItem(_))}),t._uU(13,"Remove"),t.qZA()()()}if(2&c){const e=r.$implicit;t.xp6(2),t.Oqu(null==e.item?null:e.item.name),t.xp6(2),t.Oqu(t.lcZ(5,4,null==e.item?null:e.item.price)),t.xp6(3),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.lcZ(10,6,e.total))}}function C(c,r){if(1&c){const e=t.EpF();t.TgZ(0,"div")(1,"div"),t._UZ(2,"img",2),t.TgZ(3,"table",3)(4,"thead")(5,"tr")(6,"th"),t._uU(7,"Product"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Price"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Quantity"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Total Price"),t.qZA(),t._UZ(14,"th"),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,g,14,8,"tr",4),t.qZA()()(),t.TgZ(17,"div")(18,"h3"),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.TgZ(21,"button",5),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.checkout())}),t._uU(22,"Checkout"),t.qZA()()()}if(2&c){const e=t.oxw();t.xp6(16),t.Q6J("ngForOf",e.cartItems),t.xp6(3),t.hij("Total Price: ",t.lcZ(20,2,e.cartSum),"")}}function h(c,r){1&c&&(t.TgZ(0,"div")(1,"h1"),t._uU(2,"Cart Is Empty \u{1f6d2}"),t.qZA()())}class u{constructor(r,e,n){this.cartService=r,this.orderService=e,this.router=n,this.cartItems=[],this.cartSum=0}ngOnInit(){this.getCarts()}getCarts(){this.cartService.getCarts().pipe().subscribe(r=>{this.cartItems=r,this.cartSum=this.cartItems.reduce((e,n)=>e+n.total,0)})}removeItem(r){this.cartService.deleteItem(r.id).pipe().subscribe(()=>{this.getCarts()})}checkout(){this.orderService.createOrder().subscribe(()=>{this.router.navigate(["/orders"])})}}u.\u0275fac=function(r){return new(r||u)(t.Y36(p.Ni),t.Y36(p.px),t.Y36(m.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-cart"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["empty",""],["src",""],[1,"table"],[4,"ngFor","ngForOf"],[1,"btn","btn-dark",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(r,e){if(1&r&&(t.YNc(0,C,23,4,"div",0),t.YNc(1,h,3,0,"ng-template",null,1,t.W1O)),2&r){const n=t.MAs(2);t.Q6J("ngIf",e.cartItems.length)("ngIfElse",n)}},dependencies:[a.sg,a.O5,a.H9],styles:["h1[_ngcontent-%COMP%]{text-align:center;margin-top:100px;text-transform:uppercase;font-size:2rem;color:#000}"]});const Z=[{path:"",component:u}];class i{}i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.Bz.forChild(Z),m.Bz]});class s{}s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[a.ez,i]})}}]);