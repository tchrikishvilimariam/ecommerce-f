"use strict";(self.webpackChunkecommerce_f=self.webpackChunkecommerce_f||[]).push([[863],{7863:(E,Z,s)=>{s.r(Z),s.d(Z,{AuthModule:()=>u});var v=s(6895),d=s(3128),e=s(8256);class f{constructor(){}ngOnInit(){}}f.\u0275fac=function(n){return new(n||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-auth"]],decls:2,vars:0,consts:[[1,"auth-layout"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[d.lC],styles:[".auth-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background:#fff;border-radius:4px;box-shadow:0 0 10px #0000001a;width:400px;margin:50px auto;padding:15px}"]});var i=s(433),w=s(7579),T=s(2722),N=s(8505),h=s(7644);function A(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function C(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is invalid"),e.qZA())}function q(t,n){if(1&t&&(e.TgZ(0,"div",9),e.YNc(1,A,2,0,"div",10),e.YNc(2,C,2,0,"div",10),e.qZA()),2&t){const o=e.oxw();let r,l;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("email"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(l=o.form.get("email"))||null==l.errors?null:l.errors.email)}}function x(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function I(t,n){if(1&t&&(e.TgZ(0,"div",9),e.YNc(1,x,2,0,"div",10),e.qZA()),2&t){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("password"))||null==r.errors?null:r.errors.required)}}class c{constructor(n,o,r){this.authService=n,this.cartService=o,this.router=r,this.form=new i.cw({email:new i.NI("",[i.kI.required,i.kI.email]),password:new i.NI("",i.kI.required)}),this.sub$=new w.x}ngOnInit(){}submit(){this.form.markAllAsTouched(),!this.form.invalid&&this.authService.login(this.form.value).pipe((0,T.R)(this.sub$),(0,N.b)(()=>{this.cartService.getCarts().subscribe()})).subscribe(n=>{console.log(n),this.router.navigate(["/"])})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}}c.\u0275fac=function(n){return new(n||c)(e.Y36(h.e8),e.Y36(h.Ni),e.Y36(d.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-login"]],decls:15,vars:3,consts:[[3,"formGroup","ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","my-3"],["type","email","formControlName","email","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["class","mat-error error",4,"ngIf"],["type","password","formControlName","password","id","floatingPassword","placeholder","Password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"],[1,"mat-error","error"],[4,"ngIf"]],template:function(n,o){if(1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(1,"h1",1),e._uU(2,"Please sign in"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"input",3),e.TgZ(5,"label",4),e._uU(6,"Email address"),e.qZA(),e.YNc(7,q,3,2,"div",5),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",6),e.TgZ(10,"label",7),e._uU(11,"Password"),e.qZA(),e.YNc(12,I,2,1,"div",5),e.qZA(),e.TgZ(13,"button",8),e._uU(14,"Sign in"),e.qZA()()),2&n){let r,l;e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("ngIf",(null==(r=o.form.get("email"))?null:r.invalid)&&(null==(r=o.form.get("email"))?null:r.touched)),e.xp6(5),e.Q6J("ngIf",(null==(l=o.form.get("password"))?null:l.invalid)&&(null==(l=o.form.get("password"))?null:l.touched))}},dependencies:[v.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}.error[_ngcontent-%COMP%]{color:red}"]});class b{static MatchValidator(n,o){return r=>{const l=r.get(n),a=r.get(o);return l&&a&&l.value!==a.value?{mismatch:!0}:null}}}function y(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"First name is required"),e.qZA())}function U(t,n){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,y,2,0,"div",17),e.qZA()),2&t){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("firstName"))||null==r.errors?null:r.errors.required)}}function J(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Last name is required"),e.qZA())}function P(t,n){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,J,2,0,"div",17),e.qZA()),2&t){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("lastName"))||null==r.errors?null:r.errors.required)}}function Y(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function Q(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Email is invalid"),e.qZA())}function R(t,n){if(1&t&&(e.TgZ(0,"div",16),e.YNc(1,Y,2,0,"div",17),e.YNc(2,Q,2,0,"div",17),e.qZA()),2&t){const o=e.oxw();let r,l;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("email"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(l=o.form.get("email"))||null==l.errors?null:l.errors.email)}}function S(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Last name is required"),e.qZA())}function L(t,n){if(1&t&&(e.TgZ(0,"div",18),e.YNc(1,S,2,0,"div",17),e.qZA()),2&t){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("password"))||null==r.errors?null:r.errors.required)}}function M(t,n){1&t&&(e.TgZ(0,"div"),e._uU(1,"Confirm password is required"),e.qZA())}function F(t,n){if(1&t&&(e.TgZ(0,"div",18),e.YNc(1,M,2,0,"div",17),e.qZA()),2&t){const o=e.oxw();let r;e.xp6(1),e.Q6J("ngIf",null==(r=o.form.get("confirmPassword"))||null==r.errors?null:r.errors.required)}}function O(t,n){1&t&&(e.TgZ(0,"div",18),e._uU(1,"Passwords do not match"),e.qZA())}class p{constructor(n,o){this.authService=n,this.router=o,this.form=new i.cw({firstName:new i.NI("",i.kI.required),lastName:new i.NI("",i.kI.required),email:new i.NI("",[i.kI.required,i.kI.email]),password:new i.NI("",i.kI.required),confirmPassword:new i.NI("",i.kI.required)},[b.MatchValidator("password","confirmPassword")])}ngOnInit(){}get passwordMatchError(){return this.form.getError("mismatch")&&this.form.get("confirmPassword")?.touched}submit(){this.form.markAllAsTouched(),!this.form.invalid&&(console.log(this.form.value),this.authService.register(this.form.value).subscribe(()=>{this.router.navigate(["/auth/login"])}))}}p.\u0275fac=function(n){return new(n||p)(e.Y36(h.e8),e.Y36(d.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-register"]],decls:31,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"h3","mb-3","fw-normal"],[1,"form-floating","my-3"],["formControlName","firstName","id","firstName","placeholder","First Name",1,"form-control"],["for","firstName"],["class","mat-error mt-2 error",4,"ngIf"],["formControlName","lastName","id","lastName","placeholder","Last Name",1,"form-control"],["for","lastName"],["type","email","formControlName","email","id","email","placeholder","name@example.com",1,"form-control"],["for","email"],["type","password","formControlName","password","id","floatingPassword","placeholder","Password",1,"form-control"],["for","floatingPassword"],["class","mat-error error",4,"ngIf"],["type","password","formControlName","confirmPassword","id","confirmPassword","placeholder","confirmPassword",1,"form-control"],["for","confirmPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"],[1,"mat-error","mt-2","error"],[4,"ngIf"],[1,"mat-error","error"]],template:function(n,o){if(1&n&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.submit()}),e.TgZ(1,"h1",1),e._uU(2,"Please sign up"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"input",3),e.TgZ(5,"label",4),e._uU(6,"First Name"),e.qZA(),e.YNc(7,U,2,1,"div",5),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",6),e.TgZ(10,"label",7),e._uU(11,"Last Name"),e.qZA(),e.YNc(12,P,2,1,"div",5),e.qZA(),e.TgZ(13,"div",2),e._UZ(14,"input",8),e.TgZ(15,"label",9),e._uU(16,"Email address"),e.qZA(),e.YNc(17,R,3,2,"div",5),e.qZA(),e.TgZ(18,"div",2),e._UZ(19,"input",10),e.TgZ(20,"label",11),e._uU(21,"Password"),e.qZA(),e.YNc(22,L,2,1,"div",12),e.qZA(),e.TgZ(23,"div",2),e._UZ(24,"input",13),e.TgZ(25,"label",14),e._uU(26,"Confirm Password"),e.qZA(),e.YNc(27,F,2,1,"div",12),e.YNc(28,O,2,0,"div",12),e.qZA(),e.TgZ(29,"button",15),e._uU(30,"Sign up"),e.qZA()()),2&n){let r,l,a,g,_;e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("ngIf",(null==(r=o.form.get("firstName"))?null:r.invalid)&&(null==(r=o.form.get("firstName"))?null:r.touched)),e.xp6(5),e.Q6J("ngIf",(null==(l=o.form.get("lastName"))?null:l.invalid)&&(null==(l=o.form.get("lastName"))?null:l.touched)),e.xp6(5),e.Q6J("ngIf",(null==(a=o.form.get("email"))?null:a.invalid)&&(null==(a=o.form.get("email"))?null:a.touched)),e.xp6(5),e.Q6J("ngIf",(null==(g=o.form.get("password"))?null:g.invalid)&&(null==(g=o.form.get("password"))?null:g.touched)),e.xp6(5),e.Q6J("ngIf",(null==(_=o.form.get("confirmPassword"))?null:_.invalid)&&(null==(_=o.form.get("confirmPassword"))?null:_.touched)),e.xp6(1),e.Q6J("ngIf",o.passwordMatchError)}},dependencies:[v.O5,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["[_nghost-%COMP%]{display:block;height:100%;width:100%}.error[_ngcontent-%COMP%]{color:red}"]});const k=[{path:"",redirectTo:"/auth/login",pathMatch:"full"},{path:"",component:f,children:[{path:"login",component:c},{path:"register",component:p}]}];class m{}m.\u0275fac=function(n){return new(n||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[d.Bz.forChild(k),d.Bz]});class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[v.ez,m,i.u5,i.UX]})}}]);